<!doctype html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Calculatrice</title>

    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <center>
        <h1 class="title">Calculatrice JS</h1>
        <table>
            <tr>
                <td colspan="4" align="right" id="case">
                    <div id="calc-output"></div>
                </td>
            </tr>
        </table>
        <table>
            <tr>
                <td>
                    <input class="operator" type="button"/>
                </td>
                <td>
                    <input class="operator" type="button" value="(" id="button-(" onclick="btmOpenPar()"/>
                </td>
                <td>
                    <input class="operator" type="button" value=")" id="button-)" onclick="btmClosePar()"/>
                </td>
                <td>
                    <input class="operator" type="button" value="C" id="button-C" onclick="btmClean()"/>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="number" type="button" value="1" id="button-1" onclick="btm(value)"/>
                </td>
                <td>
                    <input class="number" type="button" value="2" id="button-2" onclick="btm(value)"/>
                </td>
                <td>
                    <input class="number" type="button" value="3" id="button-3" onclick="btm(value)"/>
                </td>
                <td>
                    <input class="operator" type="button" value="%" id="button-%" onclick="btmPercent()"/>
                </td>
            </tr>

            <tr>
                <td>
                    <input class="number" type="button" value="4" id="button-4" onclick="btm(value)"/>
                </td>
                <td>
                    <input class="number" type="button" value="5" id="button-5" onclick="btm(value)"/>
                </td>
                <td>
                    <input class="number" type="button" value="6" id="button-6" onclick="btm(value)"/>
                </td>
                <td>
                    <input class="operator" type="button" value="+" id="button-+" onclick="btmPlus()"/>
                </td>
            </tr>

            <tr>
                <td>
                    <input class="number" type="button" value="7" id="button-7" onclick="btm(value)"/>
                </td>
                <td>
                    <input class="number" type="button" value="8" id="button-8" onclick="btm(value)"/>
                </td>
                <td>
                    <input class="number" type="button" value="9" id="button-9" onclick="btm(value)"/>
                </td>
                <td>
                    <input class="operator" type="button" value="-" id="button--" onclick="btmLess()"/>
                </td>
            </tr>

            <tr>
                <td>
                    <input class="operator" type="button" value="x" id="button-*" onclick="btmMultiply()"/>
                </td>
                <td>
                    <input class="number" type="button" value="0" id="button-0" onclick="btm(value)"/>
                </td>
                <td>
                    <input class="operator" type="button" value="รท" id="button-/" onclick="btmDivision()"/>
                </td>
                <td>
                    <input class="operator" type="button" value="=" id="button-=" onclick="btmEgal()"/>
                </td>
            </tr>

        </table>
    </center>
</body>

<script type="module">
    import {Calc} from "/src/app";

    function btm(val) {
        document.getElementById("calc-output").innerHTML += val;
    }
    function btmOpenPar() {
        document.getElementById("calc-output").innerHTML += "(";
    }
    function btmClosePar() {
        document.getElementById("calc-output").innerHTML += ")";
    }
    function btmClean() {
        document.getElementById("calc-output").innerHTML = "";
    }
    function btmPlus() {
        document.getElementById("calc-output").innerHTML += "+";
    }
    function btmLess() {
        document.getElementById("calc-output").innerHTML += "-";
    }
    function btmMultiply() {
        document.getElementById("calc-output").innerHTML += "*";
    }
    function btmDivision() {
        document.getElementById("calc-output").innerHTML += "/";
    }
    function btmPercent() {
        document.getElementById("calc-output").innerHTML += "%";
    }
    function btmEgal() {
        showCalc(document.getElementById("calc-output").innerHTML);
    }

    function showCalc(c) {
        let calculation = new Calc(c);
        document.getElementById("calc-output").innerHTML = calculation.getResult();
    }
</script>
</html>